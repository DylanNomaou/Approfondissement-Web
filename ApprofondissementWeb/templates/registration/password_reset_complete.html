{% extends "registration/base_auth.html" %}

{% block title %}Réinitialisation terminée - RestoPLus{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-4">
            <div class="card shadow-lg border-0 rounded-3">
                <div class="card-header bg-primary text-white text-center py-4">
                    <h3 class="mb-0">
                        <i class="bi bi-check-circle me-2"></i>
                        Réinitialisation terminée
                    </h3>
                    <p class="mb-0 mt-2 opacity-75">Votre mot de passe a été mis à jour</p>
                </div>
                <div class="card-body p-4 text-center">
                    <div class="mb-4">
                        <i class="bi bi-check-circle-fill text-primary" style="font-size: 3rem;"></i>
                    </div>
                    
                    <h5 class="mb-3 text-primary">Succès !</h5>
                    
                    <p class="text-muted mb-4">
                        Votre mot de passe a été mis à jour avec succès. 
                        Vous pouvez maintenant vous connecter avec votre nouveau mot de passe.
                    </p>

                    <div class="d-grid gap-2">
                        <a href="{% url 'login' %}" class="btn btn-primary btn-lg">
                            <i class="bi bi-box-arrow-in-right me-2"></i>
                            Se connecter
                        </a>
                    </div>
                </div>
            </div>

            <!-- Conseils de sécurité -->
            <div class="card mt-3 border-0 bg-light">
                <div class="card-body p-3">
                    <h6 class="card-title">
                        <i class="bi bi-shield-check me-1"></i>
                        Conseils de sécurité
                    </h6>
                    <ul class="list-unstyled mb-0 small text-muted">
                        <li><i class="bi bi-check text-success me-1"></i> Gardez votre mot de passe confidentiel</li>
                        <li><i class="bi bi-check text-success me-1"></i> Ne le partagez avec personne</li>
                        <li><i class="bi bi-check text-success me-1"></i> Changez-le régulièrement</li>
                        <li><i class="bi bi-check text-success me-1"></i> Utilisez un mot de passe unique</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Animation d'apparition de l'icône de succès
    const successIcon = document.querySelector('.bi-check-circle-fill');
    successIcon.style.opacity = '0';
    successIcon.style.transform = 'scale(0.5)';
    
    setTimeout(() => {
        successIcon.style.transition = 'all 0.5s ease-in-out';
        successIcon.style.opacity = '1';
        successIcon.style.transform = 'scale(1)';
    }, 200);
    
    // Redirection automatique après 10 secondes (optionnel)
    setTimeout(() => {
        const loginButton = document.querySelector('.btn-primary');
        loginButton.classList.add('pulse');
        loginButton.innerHTML = '<i class="bi bi-box-arrow-in-right me-2"></i>Se connecter (redirection automatique...)';
        
        setTimeout(() => {
            window.location.href = "{% url 'login' %}";
        }, 3000);
    }, 7000);
});
</script>

<style>
.pulse {
    animation: pulse 1s infinite;
}

@keyframes pulse {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
    100% {
        transform: scale(1);
    }
}
</style>
{% endblock %}